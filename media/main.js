!function(e,o){if("object"==typeof exports&&"object"==typeof module)module.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{var t=o();for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(self,(function(){return(()=>{"use strict";var e={756:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0});const n={createFieldset(e){return function(e,o){const t=document.createElement("fieldset"),n=document.createElement("legend");let l=0;return n.contentEditable="true",n.textContent=e,n.addEventListener("input",(e=>{clearTimeout(l),l=window.setTimeout((()=>{o(e.target.textContent)}),800)})),t.appendChild(n),t}(e,this.onTitleChange)},onTitleChange:t(721).noop};o.default=n},900:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0});const n=t(721);function l(e=null,o={}){const t=document.createElement("li"),n=document.createElement("input"),l=document.createElement("input"),a=function(e=null){const o=document.createElement("div");return o.className="color-preview",e&&(o.style.backgroundColor="#"+e),o}(),c=function(){const e=document.createElement("button"),o=document.createElement("i");return o.className="codicon codicon-trash",e.className="color-icon icon",e.appendChild(o),e}(),r=function(){const e=document.createElement("button"),o=document.createElement("i");return o.className="codicon codicon-clippy",e.className="color-icon icon",e.appendChild(o),e}();let s=0;return t.className="color-entry",n.className="color-input",n.placeholder="Color hex",l.className="color-input",l.placeholder="Color name or css var",l.disabled=!0,e&&(n.value=e.value,l.value=e.name,l.disabled=!1,a.style.backgroundColor="#"+e.value),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(r),t.appendChild(c),c.addEventListener("click",(()=>{o.onColorRemove(n.value),t.remove()})),n.addEventListener("input",(e=>{clearTimeout(s),s=window.setTimeout((()=>{a.style.backgroundColor="#"+e.target.value,l.disabled=!1,l.focus(),o.onColorChange(e.target.value)}),800)})),l.addEventListener("input",(e=>{clearTimeout(s),s=window.setTimeout((()=>{o.onNameChange(n.value,e.target.value)}),800)})),r.addEventListener("click",(()=>{l.select(),l.setSelectionRange(0,99999),document.execCommand("copy")})),t}const a={createColorInput(e=null){return l(e,{onColorChange:this.onColorChange,onColorRemove:this.onColorRemove,onNameChange:this.onNameChange})},onColorRemove:n.noop,onColorChange:n.noop,onNameChange:n.noop};o.default=a},351:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0});const t={createGroup:()=>function(){const e=document.createElement("ul");return e.className="color-list",e}()};o.default={...t}},721:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.noop=void 0,o.noop=function(...e){}},519:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0});const n=t(756),l=t(351),a=t(900);!function(){const e=document.getElementById("app");if(e){const o=acquireVsCodeApi(),t=o.getState()||{name:"New Palette (click to edit)",colors:{}},c=()=>!!Object.keys(t.colors).length;n.default.onTitleChange=e=>{o.setState({name:e,colors:t.colors})},a.default.onColorChange=e=>{t.colors[e]="",o.setState({name:t.name,colors:t.colors})},a.default.onColorRemove=e=>{delete t.colors[e],o.setState({name:t.name,colors:t.colors})},a.default.onNameChange=(e,n)=>{t.colors[e]=n,o.setState({name:t.name,colors:t.colors})};const r=n.default.createFieldset(t.name),s=l.default.createGroup();window.addEventListener("message",(e=>{switch(e.data.type){case"addColor":{const e=a.default.createColorInput();s.appendChild(e);break}case"clearColors":s.innerHTML="",t.colors={},o.setState({name:t.name,colors:t.colors})}})),c()&&Object.keys(t.colors).forEach((e=>{const o=a.default.createColorInput({value:e,name:t.colors[e]});s.appendChild(o)})),r.appendChild(s),e.appendChild(r)}}()}},o={};return function t(n){if(o[n])return o[n].exports;var l=o[n]={exports:{}};return e[n](l,l.exports,t),l.exports}(519)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cy1wYWxldHRlL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi9maWVsZHNldC50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi9saS50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi91bC50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi91dGlscy50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vdnMtcGFsZXR0ZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92cy1wYWxldHRlL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsInNlbGYiLCJhcGkiLCJ0aXRsZSIsImxpc3RlbmVyIiwiZmllbGRzZXQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJsZWdlbmQiLCJ0aW1lciIsImNvbnRlbnRFZGl0YWJsZSIsInRleHRDb250ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2xlYXJUaW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsInRhcmdldCIsImFwcGVuZENoaWxkIiwiY3JlYXRlRmllbGRzZXQiLCJ0aGlzIiwib25UaXRsZUNoYW5nZSIsIm5vb3AiLCJjcmVhdGVDb2xvcklucHV0IiwiY29sb3IiLCJsaXN0ZW5lcnMiLCJjb2xvckVsZW1lbnQiLCJjb2xvcklucHV0IiwiY29sb3JOYW1lSW5wdXQiLCJjb2xvclByZXZpZXciLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNyZWF0ZUNvbG9yUHJldmlldyIsImNvbG9yUmVtb3ZlIiwiYnV0dG9uIiwiY3JlYXRlQ29sb3JSZW1vdmUiLCJjb2xvckNsaXAiLCJjcmVhdGVDb2xvckNvcHkiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwidmFsdWUiLCJuYW1lIiwib25Db2xvclJlbW92ZSIsInJlbW92ZSIsImZvY3VzIiwib25Db2xvckNoYW5nZSIsIm9uTmFtZUNoYW5nZSIsInNlbGVjdCIsInNldFNlbGVjdGlvblJhbmdlIiwiZXhlY0NvbW1hbmQiLCJjcmVhdGVHcm91cCIsInVsIiwiY3JlYXRlQ29sb3JHcm91cCIsImFyZ3MiLCJhcHAiLCJnZXRFbGVtZW50QnlJZCIsInZzY29kZSIsImFjcXVpcmVWc0NvZGVBcGkiLCJzdGF0ZSIsImdldFN0YXRlIiwiY29sb3JzIiwiaGFzQ29sb3JzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInNldFN0YXRlIiwiZGF0YSIsInR5cGUiLCJsaSIsImlubmVySFRNTCIsImZvckVhY2giLCJrZXkiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDaEQsR0FBc0IsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsU0FDYixHQUFxQixtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILE9BQ1AsQ0FDSixJQUFJSyxFQUFJTCxJQUNSLElBQUksSUFBSU0sS0FBS0QsR0FBdUIsaUJBQVpKLFFBQXVCQSxRQUFVRixHQUFNTyxHQUFLRCxFQUFFQyxJQVB4RSxDQVNHQyxNQUFNLFdBQ1QsTSx5RkNrQkEsTUFBTUMsRUFBVyxDQUNmLGVBQWVDLEdBQ2IsT0F2QkosU0FBd0JBLEVBQWVDLEdBQ3JDLE1BQU1DLEVBQVdDLFNBQVNDLGNBQWMsWUFDbENDLEVBQVNGLFNBQVNDLGNBQWMsVUFDdEMsSUFBSUUsRUFBUSxFQWVaLE9BYkFELEVBQU9FLGdCQUFrQixPQUN6QkYsRUFBT0csWUFBY1IsRUFFckJLLEVBQU9JLGlCQUFpQixTQUFVQyxJ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TXBEQyxLQUNGQyxPQUFPQyxLQUFLTCxFQUFNRSxRQUFRVSxTQUFTQyxJQUNqQyxNQUFNSCxFQUFLLFVBQU05QyxpQkFBaUIsQ0FBRWtCLE1BQU8rQixFQUFLOUIsS0FBTWlCLEVBQU1FLE9BQU9XLEtBQ25FcEIsRUFBR2xDLFlBQVltRCxNQUluQmhFLEVBQVNhLFlBQVlrQyxHQUVyQkcsRUFBSXJDLFlBQVliLElBNURwQixLQ0hJb0UsRUFBMkIsR0NFL0IsT0RDQSxTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVaEYsUUFHM0MsSUFBSUMsRUFBUzZFLEVBQXlCRSxHQUFZLENBR2pEaEYsUUFBUyxJQU9WLE9BSEFpRixFQUFvQkQsR0FBVS9FLEVBQVFBLEVBQU9ELFFBQVMrRSxHQUcvQzlFLEVBQU9ELFFDakJSK0UsQ0FBb0IsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHNlbGYsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsImltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWxzJztcblxudHlwZSBBUEkgPSB7XG4gIG9uVGl0bGVDaGFuZ2U/OiAodGl0bGU6IHN0cmluZykgPT4gdm9pZDtcbiAgY3JlYXRlRmllbGRzZXQ6ICh0aXRsZTogc3RyaW5nKSA9PiBIVE1MRmllbGRTZXRFbGVtZW50XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVGaWVsZHNldCh0aXRsZTogc3RyaW5nLCBsaXN0ZW5lcjogKHRpdGxlOiBzdHJpbmcpID0+IHZvaWQgKSB7XG4gIGNvbnN0IGZpZWxkc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmllbGRzZXQnKTtcbiAgY29uc3QgbGVnZW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGVnZW5kJyk7XG4gIGxldCB0aW1lciA9IDA7XG5cbiAgbGVnZW5kLmNvbnRlbnRFZGl0YWJsZSA9ICd0cnVlJztcbiAgbGVnZW5kLnRleHRDb250ZW50ID0gdGl0bGU7XG5cbiAgbGVnZW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsaXN0ZW5lcihldmVudC50YXJnZXQudGV4dENvbnRlbnQpO1xuICAgIH0sIDgwMCk7XG4gIH0pO1xuXG4gIGZpZWxkc2V0LmFwcGVuZENoaWxkKGxlZ2VuZCk7XG5cbiAgcmV0dXJuIGZpZWxkc2V0O1xufVxuXG5jb25zdCBhcGk6IEFQSSA9IHtcbiAgY3JlYXRlRmllbGRzZXQodGl0bGU6IHN0cmluZykge1xuICAgIHJldHVybiBjcmVhdGVGaWVsZHNldCh0aXRsZSwgdGhpcy5vblRpdGxlQ2hhbmdlKTtcbiAgfSxcbiAgb25UaXRsZUNoYW5nZTogbm9vcFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpO1xuIiwiaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbHMnO1xuXG50eXBlIENPTE9SID0geyBuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfSB8IG51bGw7XG5cbnR5cGUgQVBJID0ge1xuICBjcmVhdGVDb2xvcklucHV0OiAoY29sb3I/OiBDT0xPUikgPT4gSFRNTExJRWxlbWVudDtcbiAgb25Db2xvclJlbW92ZT86IChjb2xvcjogc3RyaW5nKSA9PiB2b2lkLFxuICBvbkNvbG9yQ2hhbmdlPzogKGNvbG9yOiBzdHJpbmcpID0+IHZvaWQsXG4gIG9uTmFtZUNoYW5nZT86IChjb2xvcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHZvaWRcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBkaXYgdG8gcHJldmlldyBjb2xvci5cbiAqXG4gKiBAcGFyYW0gY29sb3Igc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yUHJldmlldyhjb2xvcjogc3RyaW5nID0gbnVsbCkge1xuICBjb25zdCBjb2xvclByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29sb3JQcmV2aWV3LmNsYXNzTmFtZSA9ICdjb2xvci1wcmV2aWV3JztcblxuICBpZiAoY29sb3IpIHtcbiAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYCMke2NvbG9yfWA7XG4gIH1cblxuICByZXR1cm4gY29sb3JQcmV2aWV3O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYnV0dG9uIHRvIHJlbW92ZSBsaSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yUmVtb3ZlKCkge1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcblxuICBpLmNsYXNzTmFtZSA9ICdjb2RpY29uIGNvZGljb24tdHJhc2gnO1xuICBidXR0b24uY2xhc3NOYW1lID0gJ2NvbG9yLWljb24gaWNvbic7XG5cbiAgYnV0dG9uLmFwcGVuZENoaWxkKGkpO1xuXG4gIHJldHVybiBidXR0b247XG59XG5cbi8qKlxuICogQ3JlYXRlcyBidXR0b24gdG8gY29weSBjb2xvciB0byBjbGlwYm9hcmRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sb3JDb3B5KCkge1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcblxuICBpLmNsYXNzTmFtZSA9ICdjb2RpY29uIGNvZGljb24tY2xpcHB5JztcbiAgYnV0dG9uLmNsYXNzTmFtZSA9ICdjb2xvci1pY29uIGljb24nO1xuXG4gIGJ1dHRvbi5hcHBlbmRDaGlsZChpKTtcblxuICByZXR1cm4gYnV0dG9uO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgZ3JvdXAgZWxlbWVudCB0byBkZWZpbmUgY29sb3IuXG4gKiBAcGFyYW0gY29sb3IgQ09MT1JcbiAqIEBwYXJhbSBsaXN0ZW5lcnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sb3JJbnB1dChcbiAgY29sb3I6IENPTE9SID0gbnVsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgb25Db2xvclJlbW92ZT86IChjb2xvcjogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uQ29sb3JDaGFuZ2U/OiAoY29sb3I6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvbk5hbWVDaGFuZ2U/OiAoY29sb3I6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB2b2lkXG4gIH0gPSB7fVxuKSB7XG4gIGNvbnN0IGNvbG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIGNvbnN0IGNvbG9ySW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBjb25zdCBjb2xvck5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGNvbnN0IGNvbG9yUHJldmlldyA9IGNyZWF0ZUNvbG9yUHJldmlldygpO1xuICBjb25zdCBjb2xvclJlbW92ZSA9IGNyZWF0ZUNvbG9yUmVtb3ZlKCk7XG4gIGNvbnN0IGNvbG9yQ2xpcCA9IGNyZWF0ZUNvbG9yQ29weSgpO1xuICBsZXQgdGltZXIgPSAwO1xuXG4gIGNvbG9yRWxlbWVudC5jbGFzc05hbWUgPSAnY29sb3ItZW50cnknO1xuXG4gIGNvbG9ySW5wdXQuY2xhc3NOYW1lID0gJ2NvbG9yLWlucHV0JztcbiAgY29sb3JJbnB1dC5wbGFjZWhvbGRlciA9ICdDb2xvciBoZXgnO1xuICBjb2xvck5hbWVJbnB1dC5jbGFzc05hbWUgPSAnY29sb3ItaW5wdXQnO1xuICBjb2xvck5hbWVJbnB1dC5wbGFjZWhvbGRlciA9ICdDb2xvciBuYW1lIG9yIGNzcyB2YXInO1xuICBjb2xvck5hbWVJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgaWYgKGNvbG9yKSB7XG4gICAgY29sb3JJbnB1dC52YWx1ZSA9IGNvbG9yLnZhbHVlO1xuICAgIGNvbG9yTmFtZUlucHV0LnZhbHVlID0gY29sb3IubmFtZTtcbiAgICBjb2xvck5hbWVJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgIyR7Y29sb3IudmFsdWV9YDtcbiAgfVxuXG4gIGNvbG9yRWxlbWVudC5hcHBlbmRDaGlsZChjb2xvclByZXZpZXcpO1xuICBjb2xvckVsZW1lbnQuYXBwZW5kQ2hpbGQoY29sb3JJbnB1dCk7XG4gIGNvbG9yRWxlbWVudC5hcHBlbmRDaGlsZChjb2xvck5hbWVJbnB1dCk7XG4gIGNvbG9yRWxlbWVudC5hcHBlbmRDaGlsZChjb2xvckNsaXApO1xuICBjb2xvckVsZW1lbnQuYXBwZW5kQ2hpbGQoY29sb3JSZW1vdmUpO1xuXG4gIGNvbG9yUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGxpc3RlbmVycy5vbkNvbG9yUmVtb3ZlKGNvbG9ySW5wdXQudmFsdWUpO1xuICAgIGNvbG9yRWxlbWVudC5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgY29sb3JJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudDogYW55KSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcblxuICAgIHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGAjJHtldmVudC50YXJnZXQudmFsdWV9YDtcbiAgICAgIGNvbG9yTmFtZUlucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBjb2xvck5hbWVJbnB1dC5mb2N1cygpO1xuXG4gICAgICBsaXN0ZW5lcnMub25Db2xvckNoYW5nZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH0sIDgwMCk7XG4gIH0pO1xuXG4gIGNvbG9yTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsaXN0ZW5lcnMub25OYW1lQ2hhbmdlKGNvbG9ySW5wdXQudmFsdWUsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfSwgODAwKTtcbiAgfSk7XG5cbiAgY29sb3JDbGlwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbG9yTmFtZUlucHV0LnNlbGVjdCgpO1xuICAgIGNvbG9yTmFtZUlucHV0LnNldFNlbGVjdGlvblJhbmdlKDAsIDk5OTk5KTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICB9KTtcblxuICByZXR1cm4gY29sb3JFbGVtZW50O1xufVxuXG5jb25zdCBhcGk6IEFQSSA9IHtcbiAgY3JlYXRlQ29sb3JJbnB1dChjb2xvcjogQ09MT1IgPSBudWxsKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbG9ySW5wdXQoY29sb3IsIHtcbiAgICAgIG9uQ29sb3JDaGFuZ2U6IHRoaXMub25Db2xvckNoYW5nZSxcbiAgICAgIG9uQ29sb3JSZW1vdmU6IHRoaXMub25Db2xvclJlbW92ZSxcbiAgICAgIG9uTmFtZUNoYW5nZTogdGhpcy5vbk5hbWVDaGFuZ2VcbiAgICB9ICk7XG4gIH0sXG4gIG9uQ29sb3JSZW1vdmU6IG5vb3AsXG4gIG9uQ29sb3JDaGFuZ2U6IG5vb3AsXG4gIG9uTmFtZUNoYW5nZTogbm9vcFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpO1xuIiwidHlwZSBBUEkgPSB7XG4gIGNyZWF0ZUdyb3VwOiAoKSA9PiBIVE1MVUxpc3RFbGVtZW50XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDb2xvckdyb3VwKCkge1xuICBjb25zdCB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gIHVsLmNsYXNzTmFtZSA9ICdjb2xvci1saXN0JztcbiAgcmV0dXJuIHVsO1xufVxuXG5jb25zdCBhcGk6IEFQSSA9IHtcbiAgY3JlYXRlR3JvdXA6ICgpID0+IHtcbiAgICByZXR1cm4gY3JlYXRlQ29sb3JHcm91cCgpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLmFwaVxufTsiLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5leHBvcnQgY29uc3Qgbm9vcCA9IGZ1bmN0aW9uKC4uLmFyZ3M6IGFueSk6IHZvaWQge307IiwiaW1wb3J0IGZpZWxkc2V0QXBpIGZyb20gJy4vbGliL2ZpZWxkc2V0JztcbmltcG9ydCB1bEFwaSBmcm9tICcuL2xpYi91bCc7XG5pbXBvcnQgbGlBcGkgZnJvbSAnLi9saWIvbGknO1xuXG4oZnVuY3Rpb24gKCkge1xuICBjb25zdCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XG5cbiAgaWYgKGFwcCkge1xuICAgIGNvbnN0IHZzY29kZSA9IGFjcXVpcmVWc0NvZGVBcGkoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHZzY29kZS5nZXRTdGF0ZSgpIHx8IHtcbiAgICAgIG5hbWU6ICdOZXcgUGFsZXR0ZSAoY2xpY2sgdG8gZWRpdCknLFxuICAgICAgY29sb3JzOiB7fSxcbiAgICB9O1xuXG4gICAgY29uc3QgaGFzQ29sb3JzID0gKCkgPT4gISFPYmplY3Qua2V5cyhzdGF0ZS5jb2xvcnMpLmxlbmd0aDtcblxuICAgIGZpZWxkc2V0QXBpLm9uVGl0bGVDaGFuZ2UgPSAodGl0bGU6IHN0cmluZykgPT4ge1xuICAgICAgdnNjb2RlLnNldFN0YXRlKHsgbmFtZTogdGl0bGUsIGNvbG9yczogc3RhdGUuY29sb3JzIH0pO1xuICAgIH07XG5cbiAgICBsaUFwaS5vbkNvbG9yQ2hhbmdlID0gKGNvbG9yKSA9PiB7XG4gICAgICBzdGF0ZS5jb2xvcnNbY29sb3JdID0gJyc7XG4gICAgICB2c2NvZGUuc2V0U3RhdGUoeyBuYW1lOiBzdGF0ZS5uYW1lLCBjb2xvcnM6IHN0YXRlLmNvbG9ycyB9KTtcbiAgICB9O1xuXG4gICAgbGlBcGkub25Db2xvclJlbW92ZSA9IChjb2xvcikgPT4ge1xuICAgICAgZGVsZXRlIHN0YXRlLmNvbG9yc1tjb2xvcl07XG4gICAgICB2c2NvZGUuc2V0U3RhdGUoeyBuYW1lOiBzdGF0ZS5uYW1lLCBjb2xvcnM6IHN0YXRlLmNvbG9ycyB9KTtcbiAgICB9O1xuXG4gICAgbGlBcGkub25OYW1lQ2hhbmdlID0gKGNvbG9yLCBuYW1lKSA9PiB7XG4gICAgICBzdGF0ZS5jb2xvcnNbY29sb3JdID0gbmFtZTtcbiAgICAgIHZzY29kZS5zZXRTdGF0ZSh7IG5hbWU6IHN0YXRlLm5hbWUsIGNvbG9yczogc3RhdGUuY29sb3JzIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBmaWVsZHNldCA9IGZpZWxkc2V0QXBpLmNyZWF0ZUZpZWxkc2V0KHN0YXRlLm5hbWUpO1xuICAgIGNvbnN0IHVsID0gdWxBcGkuY3JlYXRlR3JvdXAoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuZGF0YTsgLy8gVGhlIGpzb24gZGF0YSB0aGF0IHRoZSBleHRlbnNpb24gc2VudFxuICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnYWRkQ29sb3InOiB7XG4gICAgICAgICAgY29uc3QgbGkgPSBsaUFwaS5jcmVhdGVDb2xvcklucHV0KCk7XG4gICAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NsZWFyQ29sb3JzJzoge1xuICAgICAgICAgIHVsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIHN0YXRlLmNvbG9ycyA9IHt9O1xuICAgICAgICAgIHZzY29kZS5zZXRTdGF0ZSh7IG5hbWU6IHN0YXRlLm5hbWUsIGNvbG9yczogc3RhdGUuY29sb3JzIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaGFzQ29sb3JzKCkpIHtcbiAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmNvbG9ycykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gbGlBcGkuY3JlYXRlQ29sb3JJbnB1dCh7IHZhbHVlOiBrZXksIG5hbWU6IHN0YXRlLmNvbG9yc1trZXldIH0pO1xuICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZCh1bCk7XG5cbiAgICBhcHAuYXBwZW5kQ2hpbGQoZmllbGRzZXQpO1xuICB9XG59KSgpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyg1MTkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==