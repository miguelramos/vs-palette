!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(self,(function(){return(()=>{"use strict";var e={756:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={createFieldset:e=>function(e,t){const o=document.createElement("fieldset"),n=document.createElement("legend");let a=0;return n.contentEditable="true",n.textContent=e,n.addEventListener("input",(e=>{clearTimeout(a),a=window.setTimeout((()=>{t(e.target.textContent)}),800)})),o.appendChild(n),o}(e,n.onTitleChange),onTitleChange:o(721).noop};t.default={...n}},900:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=o(721);function a(e=null,t={}){const o=document.createElement("li"),n=document.createElement("input"),a=document.createElement("input"),l=function(e=null){const t=document.createElement("div");return t.className="color-preview",e&&(t.style.backgroundColor="#"+e),t}(),c=function(){const e=document.createElement("button"),t=document.createElement("i");return t.className="codicon codicon-trash",e.className="color-icon icon",e.appendChild(t),e}(),r=function(){const e=document.createElement("button"),t=document.createElement("i");return t.className="codicon codicon-clippy",e.className="color-icon icon",e.appendChild(t),e}();let d=0;const{onColorChange:s,onColorRemove:u,onNameChange:i}=t;return o.className="color-entry",n.className="color-input",n.placeholder="Color hex",a.className="color-input",a.placeholder="Color name or css var",a.disabled=!0,e&&(n.value=e.value,a.value=e.name,a.disabled=!1,l.style.backgroundColor="#"+e.value),o.appendChild(l),o.appendChild(n),o.appendChild(a),o.appendChild(r),o.appendChild(c),c.addEventListener("click",(()=>{u(n.value),o.remove()})),n.addEventListener("input",(e=>{clearTimeout(d),d=window.setTimeout((()=>{l.style.backgroundColor="#"+e.target.value,a.disabled=!1,a.focus(),s(e.target.value)}),800)})),a.addEventListener("input",(e=>{clearTimeout(d),d=window.setTimeout((()=>{i(e.target.value,n.value)}),800)})),r.addEventListener("click",(()=>{a.select(),a.setSelectionRange(0,99999),document.execCommand("copy")})),o}const l={createColorInput:(e=null)=>{const{onColorChange:t,onColorRemove:o,onNameChange:n}=l;return a(e,{onColorChange:t,onColorRemove:o,onNameChange:n})},onColorRemove:n.noop,onColorChange:n.noop,onNameChange:n.noop};t.default={...l}},351:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const o={createGroup:()=>function(){const e=document.createElement("ul");return e.className="color-list",e}()};t.default={...o}},721:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(...e){}},519:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=o(756),a=o(351),l=o(900);!function(){const e=document.getElementById("app");if(e){const t=acquireVsCodeApi(),o=t.getState()||{name:"New Palette (click to edit)",colors:{}};let{colors:c}=o;const r=()=>!!Object.keys(c).length,{createFieldset:d}=n.default,{createGroup:s}=a.default,{createColorInput:u}=l.default;n.default.onTitleChange=e=>{t.setState({name:e,colors:c})},l.default.onColorChange=e=>{c[e]="",t.setState({name:o.name,colors:c})},l.default.onColorRemove=e=>{delete c[e],t.setState({name:o.name,colors:c})},l.default.onNameChange=(e,n)=>{c[e]=n,t.setState({name:o.name,colors:c})};const i=d(o.name),m=s();window.addEventListener("message",(e=>{switch(e.data.type){case"addColor":{const e=u();m.appendChild(e);break}case"clearColors":m.innerHTML="",c={},t.setState({name:o.name,colors:c})}})),r()&&Object.keys(c).forEach((e=>{const t=u({value:e,name:c[e]});m.appendChild(t)})),i.appendChild(m),e.appendChild(i)}}()}},t={};return function o(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}(519)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cy1wYWxldHRlL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi9maWVsZHNldC50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi9saS50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi91bC50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL2xpYi91dGlscy50cyIsIndlYnBhY2s6Ly92cy1wYWxldHRlLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vdnMtcGFsZXR0ZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92cy1wYWxldHRlL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsInNlbGYiLCJhcGkiLCJjcmVhdGVGaWVsZHNldCIsInRpdGxlIiwibGlzdGVuZXIiLCJmaWVsZHNldCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImxlZ2VuZCIsInRpbWVyIiwiY29udGVudEVkaXRhYmxlIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjbGVhclRpbWVvdXQiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwidGFyZ2V0IiwiYXBwZW5kQ2hpbGQiLCJvblRpdGxlQ2hhbmdlIiwibm9vcCIsImNyZWF0ZUNvbG9ySW5wdXQiLCJjb2xvciIsImxpc3RlbmVycyIsImNvbG9yRWxlbWVudCIsImNvbG9ySW5wdXQiLCJjb2xvck5hbWVJbnB1dCIsImNvbG9yUHJldmlldyIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY3JlYXRlQ29sb3JQcmV2aWV3IiwiY29sb3JSZW1vdmUiLCJidXR0b24iLCJjcmVhdGVDb2xvclJlbW92ZSIsImNvbG9yQ2xpcCIsImNyZWF0ZUNvbG9yQ29weSIsIm9uQ29sb3JDaGFuZ2UiLCJvbkNvbG9yUmVtb3ZlIiwib25OYW1lQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCIsInZhbHVlIiwibmFtZSIsInJlbW92ZSIsImZvY3VzIiwic2VsZWN0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJleGVjQ29tbWFuZCIsImNyZWF0ZUdyb3VwIiwidWwiLCJjcmVhdGVDb2xvckdyb3VwIiwiYXJncyIsImFwcCIsImdldEVsZW1lbnRCeUlkIiwidnNjb2RlIiwiYWNxdWlyZVZzQ29kZUFwaSIsInN0YXRlIiwiZ2V0U3RhdGUiLCJjb2xvcnMiLCJoYXNDb2xvcnMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwic2V0U3RhdGUiLCJkYXRhIiwidHlwZSIsImxpIiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsImtleSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUNoRCxHQUFzQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxTQUNiLEdBQXFCLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsT0FDUCxDQUNKLElBQUlLLEVBQUlMLElBQ1IsSUFBSSxJQUFJTSxLQUFLRCxHQUF1QixpQkFBWkosUUFBdUJBLFFBQVVGLEdBQU1PLEdBQUtELEVBQUVDLElBUHhFLENBU0dDLE1BQU0sV0FDVCxNLHlGQ2tCQSxNQUFNQyxFQUFXLENBQ2ZDLGVBQWlCQyxHQXRCbkIsU0FBd0JBLEVBQWVDLEdBQ3JDLE1BQU1DLEVBQVdDLFNBQVNDLGNBQWMsWUFDbENDLEVBQVNGLFNBQVNDLGNBQWMsVUFDdEMsSUFBSUUsRUFBUSxFQWVaLE9BYkFELEVBQU9FLGdCQUFrQixPQUN6QkYsRUFBT0csWUFBY1IsRUFFckJLLEVBQU9JLGlCQUFpQixTQUFVQyxJQUNoQ0MsYUFBYUwsR0FFYkEsRUFBUU0sT0FBT0MsWUFBVyxLQUN4QlosRUFBU1MsRUFBTUksT0FBT04sZUFDckIsUUFHTE4sRUFBU2EsWUFBWVYsR0FFZEgsRUFLRUgsQ0FBZUMsRUFBT0YsRUFBSWtCLGVBRW5DQSxjQWhDRixPQWdDaUJDLE1BR2pCLFVBQWUsSUFDVm5CLEksK0RDcENMLGVBOERBLFNBQVNvQixFQUNQQyxFQUFlLEtBQ2ZDLEVBSUksSUFFSixNQUFNQyxFQUFlbEIsU0FBU0MsY0FBYyxNQUN0Q2tCLEVBQWFuQixTQUFTQyxjQUFjLFNBQ3BDbUIsRUFBaUJwQixTQUFTQyxjQUFjLFNBQ3hDb0IsRUF6RFIsU0FBNEJMLEVBQWdCLE1BQzFDLE1BQU1LLEVBQWVyQixTQUFTQyxjQUFjLE9BTzVDLE9BTkFvQixFQUFhQyxVQUFZLGdCQUVyQk4sSUFDRkssRUFBYUUsTUFBTUMsZ0JBQWtCLElBQUlSLEdBR3BDSyxFQWlEY0ksR0FDZkMsRUE1Q1IsV0FDRSxNQUFNQyxFQUFTM0IsU0FBU0MsY0FBYyxVQUNoQ1IsRUFBSU8sU0FBU0MsY0FBYyxLQU9qQyxPQUxBUixFQUFFNkIsVUFBWSx3QkFDZEssRUFBT0wsVUFBWSxrQkFFbkJLLEVBQU9mLFlBQVluQixHQUVaa0MsRUFtQ2FDLEdBQ2RDLEVBOUJSLFdBQ0UsTUFBTUYsRUFBUzNCLFNBQVNDLGNBQWMsVUFDaENSLEVBQUlPLFNBQVNDLGNBQWMsS0FPakMsT0FMQVIsRUFBRTZCLFVBQVkseUJBQ2RLLEVBQU9MLFVBQVksa0JBRW5CSyxFQUFPZixZQUFZbkIsR0FFWmtDLEVBcUJXRyxHQUNsQixJQUFJM0IsRUFBUSxFQUVaLE1BQU0sY0FBRTRCLEVBQWEsY0FBRUMsRUFBYSxhQUFFQyxHQUFpQmhCLEVBcUR2RCxPQW5EQUMsRUFBYUksVUFBWSxjQUV6QkgsRUFBV0csVUFBWSxjQUN2QkgsRUFBV2UsWUFBYyxZQUN6QmQsRUFBZUUsVUFBWSxjQUMzQkYsRUFBZWMsWUFBYyx3QkFDN0JkLEVBQWVlLFVBQVcsRUFFdEJuQixJQUNGRyxFQUFXaUIsTUFBUXBCLEVBQU1vQixNQUN6QmhCLEVBQWVnQixNQUFRcEIsRUFBTXFCLEtBQzdCakIsRUFBZWUsVUFBVyxFQUMxQmQsRUFBYUUsTUFBTUMsZ0JBQWtCLElBQUlSLEVBQU1vQixPQUdqRGxCLEVBQWFOLFlBQVlTLEdBQ3pCSCxFQUFhTixZQUFZTyxHQUN6QkQsRUFBYU4sWUFBWVEsR0FDekJGLEVBQWFOLFlBQVlpQixHQUN6QlgsRUFBYU4sWUFBWWMsR0FFekJBLEVBQVlwQixpQkFBaUIsU0FBUyxLQUNwQzBCLEVBQWNiLEVBQVdpQixPQUN6QmxCLEVBQWFvQixZQUdmbkIsRUFBV2IsaUJBQWlCLFNBQVVDLElBQ3BDQyxhQUFhTCxHQUViQSxFQUFRTSxPQUFPQyxZQUFXLEtBQ3hCVyxFQUFhRSxNQUFNQyxnQkFBa0IsSUFBSWpCLEVBQU1JLE9BQU95QixNQUN0RGhCLEVBQWVlLFVBQVcsRUFDMUJmLEVBQWVtQixRQUNmUixFQUFjeEIsRUFBTUksT0FBT3lCLFNBQzFCLFFBR0xoQixFQUFlZCxpQkFBaUIsU0FBVUMsSUFDeENDLGFBQWFMLEdBRWJBLEVBQVFNLE9BQU9DLFlBQVcsS0FDeEJ1QixFQUFhMUIsRUFBTUksT0FBT3lCLE1BQU9qQixFQUFXaUIsU0FDM0MsUUFHTFAsRUFBVXZCLGlCQUFpQixTQUFTLEtBQ2xDYyxFQUFlb0IsU0FDZnBCLEVBQWVxQixrQkFBa0IsRUFBRyxPQUNwQ3pDLFNBQVMwQyxZQUFZLFdBR2hCeEIsRUFHVCxNQUFNdkIsRUFBVyxDQUNmb0IsaUJBQWtCLENBQUNDLEVBQWUsUUFDaEMsTUFBTSxjQUFFZSxFQUFhLGNBQUVDLEVBQWEsYUFBRUMsR0FBaUJ0QyxFQUN2RCxPQUFPb0IsRUFBaUJDLEVBQU8sQ0FBRWUsZ0JBQWVDLGdCQUFlQyxrQkFFakVELGNBQWUsRUFBQWxCLEtBQ2ZpQixjQUFlLEVBQUFqQixLQUNmbUIsYUFBYyxFQUFBbkIsTUFHaEIsVUFBZSxJQUNWbkIsSSw2REN2SUwsTUFBTUEsRUFBVyxDQUNmZ0QsWUFBYSxJQVBmLFdBQ0UsTUFBTUMsRUFBSzVDLFNBQVNDLGNBQWMsTUFFbEMsT0FEQTJDLEVBQUd0QixVQUFZLGFBQ1JzQixFQUtFQyxJQUlYLFVBQWUsSUFDVmxELEksMkVDaEJRLEVBQUFtQixLQUFPLFlBQVlnQyxNLCtEQ0RoQyxlQUNBLFNBQ0EsVUFFQSxXQUNFLE1BQU1DLEVBQU0vQyxTQUFTZ0QsZUFBZSxPQUVwQyxHQUFJRCxFQUFLLENBQ1AsTUFBTUUsRUFBU0MsbUJBQ1RDLEVBQVFGLEVBQU9HLFlBQWMsQ0FDakNmLEtBQU0sOEJBQ05nQixPQUFRLElBRVYsSUFBSSxPQUFFQSxHQUFXRixFQUVqQixNQUFNRyxFQUFZLE1BQVFDLE9BQU9DLEtBQUtILEdBQVFJLFFBRXhDLGVBQUU3RCxHQUFtQixXQUNyQixZQUFFK0MsR0FBZ0IsV0FDbEIsaUJBQUU1QixHQUFxQixVQUU3QixVQUFZRixjQUFpQmhCLElBQzNCb0QsRUFBT1MsU0FBUyxDQUFFckIsS0FBTXhDLEVBQU93RCxZQUdqQyxVQUFNdEIsY0FBaUJmLElBQ3JCcUMsRUFBT3JDLEdBQVMsR0FDaEJpQyxFQUFPUyxTQUFTLENBQUVyQixLQUFNYyxFQUFNZCxLQUFNZ0IsWUFHdEMsVUFBTXJCLGNBQWlCaEIsV0FDZHFDLEVBQU9yQyxHQUNkaUMsRUFBT1MsU0FBUyxDQUFFckIsS0FBTWMsRUFBTWQsS0FBTWdCLFlBR3RDLFVBQU1wQixhQUFlLENBQUNqQixFQUFPcUIsS0FDM0JnQixFQUFPckMsR0FBU3FCLEVBQ2hCWSxFQUFPUyxTQUFTLENBQUVyQixLQUFNYyxFQUFNZCxLQUFNZ0IsWUFHdEMsTUFBTXRELEVBQVdILEVBQWV1RCxFQUFNZCxNQUNoQ08sRUFBS0QsSUFFWGxDLE9BQU9ILGlCQUFpQixXQUFZQyxJQUVsQyxPQURnQkEsRUFBTW9ELEtBQ05DLE1BQ2QsSUFBSyxXQUFZLENBQ2YsTUFBTUMsRUFBSzlDLElBQ1g2QixFQUFHaEMsWUFBWWlELEdBQ2YsTUFFRixJQUFLLGNBQ0hqQixFQUFHa0IsVUFBWSxHQUNmVCxFQUFTLEdBQ1RKLEVBQU9TLFNBQVMsQ0FBRXJCLEtBQU1jLEVBQU1kLEtBQU1nQixlQU10Q0MsS0FDRkMsT0FBT0MsS0FBS0gsR0FBUVUsU0FBU0MsSUFDM0IsTUFBTUgsRUFBSzlDLEVBQWlCLENBQUVxQixNQUFPNEIsRUFBSzNCLEtBQU1nQixFQUFPVyxLQUN2RHBCLEVBQUdoQyxZQUFZaUQsTUFJbkI5RCxFQUFTYSxZQUFZZ0MsR0FFckJHLEVBQUluQyxZQUFZYixJQWpFcEIsS0NISWtFLEVBQTJCLEdDRS9CLE9EQ0EsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVS9FLFFBRzNDLElBQUlDLEVBQVM0RSxFQUF5QkUsR0FBWSxDQUdqRC9FLFFBQVMsSUFPVixPQUhBZ0YsRUFBb0JELEdBQVU5RSxFQUFRQSxFQUFPRCxRQUFTOEUsR0FHL0M3RSxFQUFPRCxRQ2pCUjhFLENBQW9CLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlscyc7XG5cbnR5cGUgQVBJID0ge1xuICBvblRpdGxlQ2hhbmdlPzogKHRpdGxlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNyZWF0ZUZpZWxkc2V0OiAodGl0bGU6IHN0cmluZykgPT4gSFRNTEZpZWxkU2V0RWxlbWVudFxufTtcblxuZnVuY3Rpb24gY3JlYXRlRmllbGRzZXQodGl0bGU6IHN0cmluZywgbGlzdGVuZXI6ICh0aXRsZTogc3RyaW5nKSA9PiB2b2lkICkge1xuICBjb25zdCBmaWVsZHNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZWxkc2V0Jyk7XG4gIGNvbnN0IGxlZ2VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xlZ2VuZCcpO1xuICBsZXQgdGltZXIgPSAwO1xuXG4gIGxlZ2VuZC5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSc7XG4gIGxlZ2VuZC50ZXh0Q29udGVudCA9IHRpdGxlO1xuXG4gIGxlZ2VuZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudDogYW55KSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcblxuICAgIHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbGlzdGVuZXIoZXZlbnQudGFyZ2V0LnRleHRDb250ZW50KTtcbiAgICB9LCA4MDApO1xuICB9KTtcblxuICBmaWVsZHNldC5hcHBlbmRDaGlsZChsZWdlbmQpO1xuXG4gIHJldHVybiBmaWVsZHNldDtcbn1cblxuY29uc3QgYXBpOiBBUEkgPSB7XG4gIGNyZWF0ZUZpZWxkc2V0OiAodGl0bGU6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBjcmVhdGVGaWVsZHNldCh0aXRsZSwgYXBpLm9uVGl0bGVDaGFuZ2UpO1xuICB9LFxuICBvblRpdGxlQ2hhbmdlOiBub29wXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLmFwaVxufTtcbiIsImltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWxzJztcblxudHlwZSBDT0xPUiA9IHsgbmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIH0gfCBudWxsO1xuXG50eXBlIEFQSSA9IHtcbiAgY3JlYXRlQ29sb3JJbnB1dDogKGNvbG9yPzogQ09MT1IpID0+IEhUTUxMSUVsZW1lbnQ7XG4gIG9uQ29sb3JSZW1vdmU/OiAoY29sb3I6IHN0cmluZykgPT4gdm9pZCxcbiAgb25Db2xvckNoYW5nZT86IChjb2xvcjogc3RyaW5nKSA9PiB2b2lkLFxuICBvbk5hbWVDaGFuZ2U/OiAoY29sb3I6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB2b2lkXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgZGl2IHRvIHByZXZpZXcgY29sb3IuXG4gKiBcbiAqIEBwYXJhbSBjb2xvciBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sb3JQcmV2aWV3KGNvbG9yOiBzdHJpbmcgPSBudWxsKSB7XG4gIGNvbnN0IGNvbG9yUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb2xvclByZXZpZXcuY2xhc3NOYW1lID0gJ2NvbG9yLXByZXZpZXcnO1xuXG4gIGlmIChjb2xvcikge1xuICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgIyR7Y29sb3J9YDtcbiAgfVxuXG4gIHJldHVybiBjb2xvclByZXZpZXc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBidXR0b24gdG8gcmVtb3ZlIGxpIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sb3JSZW1vdmUoKSB7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuXG4gIGkuY2xhc3NOYW1lID0gJ2NvZGljb24gY29kaWNvbi10cmFzaCc7XG4gIGJ1dHRvbi5jbGFzc05hbWUgPSAnY29sb3ItaWNvbiBpY29uJztcblxuICBidXR0b24uYXBwZW5kQ2hpbGQoaSk7XG5cbiAgcmV0dXJuIGJ1dHRvbjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGJ1dHRvbiB0byBjb3B5IGNvbG9yIHRvIGNsaXBib2FyZFxuICovXG5mdW5jdGlvbiBjcmVhdGVDb2xvckNvcHkoKSB7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuXG4gIGkuY2xhc3NOYW1lID0gJ2NvZGljb24gY29kaWNvbi1jbGlwcHknO1xuICBidXR0b24uY2xhc3NOYW1lID0gJ2NvbG9yLWljb24gaWNvbic7XG5cbiAgYnV0dG9uLmFwcGVuZENoaWxkKGkpO1xuXG4gIHJldHVybiBidXR0b247XG59XG5cbi8qKlxuICogQ3JlYXRlcyBncm91cCBlbGVtZW50IHRvIGRlZmluZSBjb2xvci5cbiAqIEBwYXJhbSBjb2xvciBDT0xPUlxuICogQHBhcmFtIGxpc3RlbmVycyBcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sb3JJbnB1dChcbiAgY29sb3I6IENPTE9SID0gbnVsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgb25Db2xvclJlbW92ZT86IChjb2xvcjogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uQ29sb3JDaGFuZ2U/OiAoY29sb3I6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvbk5hbWVDaGFuZ2U/OiAoY29sb3I6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB2b2lkXG4gIH0gPSB7fVxuKSB7XG4gIGNvbnN0IGNvbG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIGNvbnN0IGNvbG9ySW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBjb25zdCBjb2xvck5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGNvbnN0IGNvbG9yUHJldmlldyA9IGNyZWF0ZUNvbG9yUHJldmlldygpO1xuICBjb25zdCBjb2xvclJlbW92ZSA9IGNyZWF0ZUNvbG9yUmVtb3ZlKCk7XG4gIGNvbnN0IGNvbG9yQ2xpcCA9IGNyZWF0ZUNvbG9yQ29weSgpO1xuICBsZXQgdGltZXIgPSAwO1xuXG4gIGNvbnN0IHsgb25Db2xvckNoYW5nZSwgb25Db2xvclJlbW92ZSwgb25OYW1lQ2hhbmdlIH0gPSBsaXN0ZW5lcnM7XG5cbiAgY29sb3JFbGVtZW50LmNsYXNzTmFtZSA9ICdjb2xvci1lbnRyeSc7XG5cbiAgY29sb3JJbnB1dC5jbGFzc05hbWUgPSAnY29sb3ItaW5wdXQnO1xuICBjb2xvcklucHV0LnBsYWNlaG9sZGVyID0gJ0NvbG9yIGhleCc7XG4gIGNvbG9yTmFtZUlucHV0LmNsYXNzTmFtZSA9ICdjb2xvci1pbnB1dCc7XG4gIGNvbG9yTmFtZUlucHV0LnBsYWNlaG9sZGVyID0gJ0NvbG9yIG5hbWUgb3IgY3NzIHZhcic7XG4gIGNvbG9yTmFtZUlucHV0LmRpc2FibGVkID0gdHJ1ZTtcblxuICBpZiAoY29sb3IpIHtcbiAgICBjb2xvcklucHV0LnZhbHVlID0gY29sb3IudmFsdWU7XG4gICAgY29sb3JOYW1lSW5wdXQudmFsdWUgPSBjb2xvci5uYW1lO1xuICAgIGNvbG9yTmFtZUlucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGAjJHtjb2xvci52YWx1ZX1gO1xuICB9XG5cbiAgY29sb3JFbGVtZW50LmFwcGVuZENoaWxkKGNvbG9yUHJldmlldyk7XG4gIGNvbG9yRWxlbWVudC5hcHBlbmRDaGlsZChjb2xvcklucHV0KTtcbiAgY29sb3JFbGVtZW50LmFwcGVuZENoaWxkKGNvbG9yTmFtZUlucHV0KTtcbiAgY29sb3JFbGVtZW50LmFwcGVuZENoaWxkKGNvbG9yQ2xpcCk7XG4gIGNvbG9yRWxlbWVudC5hcHBlbmRDaGlsZChjb2xvclJlbW92ZSk7XG5cbiAgY29sb3JSZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgb25Db2xvclJlbW92ZShjb2xvcklucHV0LnZhbHVlKTtcbiAgICBjb2xvckVsZW1lbnQucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIGNvbG9ySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG5cbiAgICB0aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgIyR7ZXZlbnQudGFyZ2V0LnZhbHVlfWA7XG4gICAgICBjb2xvck5hbWVJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgY29sb3JOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIG9uQ29sb3JDaGFuZ2UoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICB9LCA4MDApO1xuICB9KTtcblxuICBjb2xvck5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudDogYW55KSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcblxuICAgIHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgb25OYW1lQ2hhbmdlKGV2ZW50LnRhcmdldC52YWx1ZSwgY29sb3JJbnB1dC52YWx1ZSk7XG4gICAgfSwgODAwKTtcbiAgfSk7XG5cbiAgY29sb3JDbGlwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbG9yTmFtZUlucHV0LnNlbGVjdCgpO1xuICAgIGNvbG9yTmFtZUlucHV0LnNldFNlbGVjdGlvblJhbmdlKDAsIDk5OTk5KTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICB9KTtcblxuICByZXR1cm4gY29sb3JFbGVtZW50O1xufVxuXG5jb25zdCBhcGk6IEFQSSA9IHtcbiAgY3JlYXRlQ29sb3JJbnB1dDogKGNvbG9yOiBDT0xPUiA9IG51bGwpID0+IHtcbiAgICBjb25zdCB7IG9uQ29sb3JDaGFuZ2UsIG9uQ29sb3JSZW1vdmUsIG9uTmFtZUNoYW5nZSB9ID0gYXBpO1xuICAgIHJldHVybiBjcmVhdGVDb2xvcklucHV0KGNvbG9yLCB7IG9uQ29sb3JDaGFuZ2UsIG9uQ29sb3JSZW1vdmUsIG9uTmFtZUNoYW5nZSB9ICk7XG4gIH0sXG4gIG9uQ29sb3JSZW1vdmU6IG5vb3AsXG4gIG9uQ29sb3JDaGFuZ2U6IG5vb3AsXG4gIG9uTmFtZUNoYW5nZTogbm9vcFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAuLi5hcGlcbn07XG4iLCJ0eXBlIEFQSSA9IHtcbiAgY3JlYXRlR3JvdXA6ICgpID0+IEhUTUxVTGlzdEVsZW1lbnRcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yR3JvdXAoKSB7XG4gIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgdWwuY2xhc3NOYW1lID0gJ2NvbG9yLWxpc3QnO1xuICByZXR1cm4gdWw7XG59XG5cbmNvbnN0IGFwaTogQVBJID0ge1xuICBjcmVhdGVHcm91cDogKCkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVDb2xvckdyb3VwKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLi4uYXBpXG59OyIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbmV4cG9ydCBjb25zdCBub29wID0gZnVuY3Rpb24oLi4uYXJnczogYW55KTogdm9pZCB7fTsiLCJpbXBvcnQgZmllbGRzZXRBcGkgZnJvbSAnLi9saWIvZmllbGRzZXQnO1xuaW1wb3J0IHVsQXBpIGZyb20gJy4vbGliL3VsJztcbmltcG9ydCBsaUFwaSBmcm9tICcuL2xpYi9saSc7XG5cbihmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGFwcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKTtcblxuICBpZiAoYXBwKSB7XG4gICAgY29uc3QgdnNjb2RlID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdnNjb2RlLmdldFN0YXRlKCkgfHwge1xuICAgICAgbmFtZTogJ05ldyBQYWxldHRlIChjbGljayB0byBlZGl0KScsXG4gICAgICBjb2xvcnM6IHt9LFxuICAgIH07XG4gICAgbGV0IHsgY29sb3JzIH0gPSBzdGF0ZTtcblxuICAgIGNvbnN0IGhhc0NvbG9ycyA9ICgpID0+ICEhT2JqZWN0LmtleXMoY29sb3JzKS5sZW5ndGg7XG5cbiAgICBjb25zdCB7IGNyZWF0ZUZpZWxkc2V0IH0gPSBmaWVsZHNldEFwaTtcbiAgICBjb25zdCB7IGNyZWF0ZUdyb3VwIH0gPSB1bEFwaTtcbiAgICBjb25zdCB7IGNyZWF0ZUNvbG9ySW5wdXQgfSA9IGxpQXBpO1xuXG4gICAgZmllbGRzZXRBcGkub25UaXRsZUNoYW5nZSA9ICh0aXRsZTogc3RyaW5nKSA9PiB7XG4gICAgICB2c2NvZGUuc2V0U3RhdGUoeyBuYW1lOiB0aXRsZSwgY29sb3JzIH0pO1xuICAgIH07XG5cbiAgICBsaUFwaS5vbkNvbG9yQ2hhbmdlID0gKGNvbG9yKSA9PiB7XG4gICAgICBjb2xvcnNbY29sb3JdID0gJyc7XG4gICAgICB2c2NvZGUuc2V0U3RhdGUoeyBuYW1lOiBzdGF0ZS5uYW1lLCBjb2xvcnMgfSk7XG4gICAgfTtcblxuICAgIGxpQXBpLm9uQ29sb3JSZW1vdmUgPSAoY29sb3IpID0+IHtcbiAgICAgIGRlbGV0ZSBjb2xvcnNbY29sb3JdO1xuICAgICAgdnNjb2RlLnNldFN0YXRlKHsgbmFtZTogc3RhdGUubmFtZSwgY29sb3JzIH0pO1xuICAgIH07XG5cbiAgICBsaUFwaS5vbk5hbWVDaGFuZ2UgPSAoY29sb3IsIG5hbWUpID0+IHtcbiAgICAgIGNvbG9yc1tjb2xvcl0gPSBuYW1lO1xuICAgICAgdnNjb2RlLnNldFN0YXRlKHsgbmFtZTogc3RhdGUubmFtZSwgY29sb3JzIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBmaWVsZHNldCA9IGNyZWF0ZUZpZWxkc2V0KHN0YXRlLm5hbWUpO1xuICAgIGNvbnN0IHVsID0gY3JlYXRlR3JvdXAoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuZGF0YTsgLy8gVGhlIGpzb24gZGF0YSB0aGF0IHRoZSBleHRlbnNpb24gc2VudFxuICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnYWRkQ29sb3InOiB7XG4gICAgICAgICAgY29uc3QgbGkgPSBjcmVhdGVDb2xvcklucHV0KCk7XG4gICAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NsZWFyQ29sb3JzJzoge1xuICAgICAgICAgIHVsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIGNvbG9ycyA9IHt9O1xuICAgICAgICAgIHZzY29kZS5zZXRTdGF0ZSh7IG5hbWU6IHN0YXRlLm5hbWUsIGNvbG9ycyB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGhhc0NvbG9ycygpKSB7XG4gICAgICBPYmplY3Qua2V5cyhjb2xvcnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGNyZWF0ZUNvbG9ySW5wdXQoeyB2YWx1ZToga2V5LCBuYW1lOiBjb2xvcnNba2V5XSB9KTtcbiAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQodWwpO1xuXG4gICAgYXBwLmFwcGVuZENoaWxkKGZpZWxkc2V0KTtcbiAgfVxufSkoKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oNTE5KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=